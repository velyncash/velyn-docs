name: docs-ci

on:
  push:
    branches: [ "main" ]
  pull_request:

jobs:
  docs:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Basic docs check
        run: |
          echo "Checking required structure..."
          test -f README.md || (echo "Missing README.md at repo root" && exit 1)
          test -d docs || (echo "Missing /docs directory" && exit 1)
          test -d specs || (echo "Missing /specs directory" && exit 1)

          echo "Checking docs files..."
          test -f docs/00-overview.md || echo "WARN: docs/00-overview.md missing"
          test -f docs/01-features.md || echo "WARN: docs/01-features.md missing"
          test -f docs/02-architecture.md || echo "WARN: docs/02-architecture.md missing"
          test -f docs/03-security.md || echo "WARN: docs/03-security.md missing"
          test -f docs/04-roadmap.md || echo "WARN: docs/04-roadmap.md missing"
          test -f docs/05-faq.md || echo "WARN: docs/05-faq.md missing"

          echo "OK âœ… Structure present. CI green."
